# 3D俄罗斯方块游戏说明

## 游戏特性
- 基于三维透视空间的创新俄罗斯方块游戏
- 完整的7种方块形状（I、O、T、S、Z、J、L）
- 真实的3D立体视觉效果和透视投影
- 方块从前墙向后墙移动的独特玩法
- 10×10×20的立体游戏空间（宽×高×深）

## 游戏空间说明
- **游戏区域**：10格宽 × 10格高 × 20格深的立方体空间
- **前墙**：方块生成位置（Z = -5）
- **后墙**：方块目标位置（Z = 5），10×10的平面
- **移动方向**：方块自动从前墙向后墙移动（Z轴正方向）

## 操作控制

### 键盘控制 - 方块移动
- **← 键** - 左移方块（X轴负方向）
- **→ 键** - 右移方块（X轴正方向）
- **↑ 键** - 上移方块（Y轴正方向）
- **↓ 键** - 下移方块（Y轴负方向）

### 键盘控制 - 方块旋转
- **W键** - 向上旋转（绕X轴旋转）
- **S键** - 向下旋转（绕X轴反向旋转）
- **A键** - 向左旋转（绕Y轴反向旋转）
- **D键** - 向右旋转（绕Y轴旋转）

### 游戏控制
- **空格键** - 开始游戏 / 暂停/继续游戏
- **P键** - 暂停/继续游戏
- **开始游戏按钮** - 开始新游戏
- **暂停按钮** - 暂停/继续当前游戏（暂停时可调整视角）
- **方块类型选择** - 选择特定方块类型或随机生成
- **生成指定方块按钮** - 根据选择生成方块

### 视角控制
- **左转按钮** - 视角向左旋转（暂停时也可使用）
- **右转按钮** - 视角向右旋转（暂停时也可使用）
- **重置视角按钮** - 恢复默认视角（暂停时也可使用）

## 游戏规则

### 基本规则
1. 方块从前墙（Z = -5）位置生成
2. 方块自动向后墙（Z = 5）移动
3. 玩家可以在X、Y轴上移动方块，调整落点位置
4. 玩家可以旋转方块，改变方块形态
5. 方块接触后墙时自动锁定

### 得分规则
- **铺满后墙**：当10×10的后墙完全被方块填满时
  - 获得奖励：1000分 × 当前等级
  - 消除行数 +1
  - 后墙清空，开始新一轮
- **实时显示**：后墙格数实时更新（已填充/总计100格）

### 等级系统
- 每消除10行（即铺满10次后墙）升一级
- 等级越高，方块下落速度越快
- 下落速度计算：1000ms - (等级-1) × 100ms（最低100ms）
- 高等级获得更多分数倍数

### 游戏结束条件
- 累计消除行数达到50行时游戏结束
- 显示最终得分、等级和消除行数

## 游戏信息显示
- **得分**：当前总分
- **等级**：当前等级
- **消除行数**：累计消除的行数
- **后墙格数**：已填充格数 / 100（百分比显示）
- **下一个方块**：预览下一个即将生成的方块
- **调试数据**：显示方块位置、网格坐标等详细信息

## 高级功能
- **自定义方块**：可通过输入坐标自定义方块形状
- **指定Z坐标**：可设置方块初始Z坐标位置（-5到5）
- **调试模式**：实时显示方块状态和网格信息
- **全选复制**：一键复制调试数据

## 技术特点
- HTML5 Canvas 3D渲染
- 一点透视投影算法
- 真实的3D旋转和变换
- 实时碰撞检测
- 透明度渲染实现透视效果
- 几何中心计算确保精确对齐

## 操作提示
1. 游戏开始前，方块会在前墙位置生成
2. 使用方向键调整方块在X、Y轴的位置
3. 使用WASD键旋转方块，找到最佳角度
4. 方块会自动向后墙移动，无需手动控制Z轴
5. 尽量让方块精确填满后墙的每个格子
6. 铺满整个后墙（100格）可获得高额奖励

## 问题解决
如果遇到游戏无法开始或画面混乱：
1. 刷新页面重新加载
2. 确保浏览器支持HTML5 Canvas
3. 点击"开始游戏"按钮手动启动
4. 检查控制台是否有错误信息
5. 查看调试数据区域了解方块状态

## 文件说明
- **3d-perspective-3d.html** - 最新版本，推荐使用
- **3d-perspective.html** - 早期版本
- **3d-perspective 2.html** - 测试版本

祝您游戏愉快！🎮